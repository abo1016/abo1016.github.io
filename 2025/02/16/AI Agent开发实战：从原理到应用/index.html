<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/Bopop-logo.png">
  <link rel="icon" type="image/png" href="/img/Bopop-logo.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="This v blog">
  <meta name="author" content="BoDen">
  <meta name="keywords" content="Bopop,blog,åšå®¢,PHP,Python,Golang">
  <title>ğŸ¤– AI Agentå¼€å‘å®æˆ˜ï¼šä»åŸç†åˆ°åº”ç”¨ - Bopop</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css" />
  

  


<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script  src="/js/utils.js" ></script>
<meta name="generator" content="Hexo 5.0.2"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Bopop</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/pexels.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
                ğŸ¤– AI Agentå¼€å‘å®æˆ˜ï¼šä»åŸç†åˆ°åº”ç”¨
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2025-02-16 15:40">
      2025å¹´2æœˆ16æ—¥ ä¸‹åˆ
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      5.3k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      69
       åˆ†é’Ÿ
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
            <article class="markdown-body">
              <h1>ğŸ¤– AI Agentå¼€å‘å®æˆ˜ï¼šä»åŸç†åˆ°åº”ç”¨</h1>
<p>AI Agentï¼ˆæ™ºèƒ½ä»£ç†ï¼‰æ˜¯å¤§æ¨¡å‹åº”ç”¨çš„å‰æ²¿é¢†åŸŸï¼Œå®ƒè®©AIç³»ç»Ÿèƒ½å¤Ÿè§„åˆ’ã€æ¨ç†å¹¶åˆ©ç”¨å·¥å…·å®Œæˆå¤æ‚ä»»åŠ¡ã€‚è¿™ç¯‡æ–‡ç« å°†ç»“åˆæˆ‘çš„å®è·µç»éªŒï¼Œä»åŸç†åˆ°ä»£ç å®ç°ï¼Œåˆ†äº«å¦‚ä½•æ„å»ºæœ‰å®ç”¨ä»·å€¼çš„AI Agentã€‚</p>
<h2 id="ğŸ“š-ä»€ä¹ˆæ˜¯AI-Agentï¼Ÿ"><a class="header-anchor" href="#ğŸ“š-ä»€ä¹ˆæ˜¯AI-Agentï¼Ÿ"></a>ğŸ“š ä»€ä¹ˆæ˜¯AI Agentï¼Ÿ</h2>
<p>ç®€å•æ¥è¯´ï¼ŒAI Agentæ˜¯ä¸€ä¸ªèƒ½å¤Ÿ<strong>è‡ªä¸»å†³ç­–å¹¶é‡‡å–è¡ŒåŠ¨</strong>çš„AIç³»ç»Ÿã€‚ä¸ç®€å•çš„é—®ç­”ç³»ç»Ÿä¸åŒï¼ŒAgentå¯ä»¥ï¼š</p>
<ul>
<li>åˆ†æå¹¶ç†è§£å¤æ‚ä»»åŠ¡</li>
<li>åˆ¶å®šè§£å†³é—®é¢˜çš„è®¡åˆ’</li>
<li>é€šè¿‡è°ƒç”¨å·¥å…·ä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’</li>
<li>æ ¹æ®åé¦ˆè°ƒæ•´è¡Œä¸º</li>
</ul>
<p>è¿™ç§èƒ½åŠ›è®©AIä»å•çº¯çš„&quot;å›ç­”å™¨&quot;å˜æˆäº†èƒ½å¤Ÿå®Œæˆå®é™…ä»»åŠ¡çš„&quot;åŠ©æ‰‹&quot;ã€‚</p>
<h3 id="Agent-vs-ä¼ ç»ŸAIåº”ç”¨"><a class="header-anchor" href="#Agent-vs-ä¼ ç»ŸAIåº”ç”¨"></a>Agent vs ä¼ ç»ŸAIåº”ç”¨</h3>
<table>
<thead>
<tr>
<th>ç‰¹ç‚¹</th>
<th>ä¼ ç»ŸAIåº”ç”¨</th>
<th>AI Agent</th>
</tr>
</thead>
<tbody>
<tr>
<td>è¡Œä¸ºæ¨¡å¼</td>
<td>è¢«åŠ¨å“åº”</td>
<td>ä¸»åŠ¨è§„åˆ’</td>
</tr>
<tr>
<td>äº¤äº’æ–¹å¼</td>
<td>å•è½®æˆ–ç®€å•å¤šè½®</td>
<td>å¤æ‚å¤šè½®ã€å·¥å…·ä½¿ç”¨</td>
</tr>
<tr>
<td>å†³ç­–èƒ½åŠ›</td>
<td>ç›´æ¥æ˜ å°„è¾“å…¥åˆ°è¾“å‡º</td>
<td>å¯ä»¥åˆ¶å®šå’Œè°ƒæ•´è®¡åˆ’</td>
</tr>
<tr>
<td>å¤æ‚åº¦</td>
<td>ç›¸å¯¹ç®€å•</td>
<td>å¤æ‚ä¸”çµæ´»</td>
</tr>
<tr>
<td>åº”ç”¨åœºæ™¯</td>
<td>ç‰¹å®šä»»åŠ¡å›ç­”</td>
<td>æµç¨‹å‹ä»»åŠ¡æ‰§è¡Œ</td>
</tr>
</tbody>
</table>
<h2 id="ğŸ§ -Agentçš„æ ¸å¿ƒåŸç†"><a class="header-anchor" href="#ğŸ§ -Agentçš„æ ¸å¿ƒåŸç†"></a>ğŸ§  Agentçš„æ ¸å¿ƒåŸç†</h2>
<p>è¦ç†è§£AI Agentçš„å·¥ä½œåŸç†ï¼Œæˆ‘ä»¬éœ€è¦ç†Ÿæ‚‰å‡ ä¸ªå…³é”®æ¦‚å¿µï¼š</p>
<h3 id="1-ReActæ¨¡å¼-Reasoning-Acting"><a class="header-anchor" href="#1-ReActæ¨¡å¼-Reasoning-Acting"></a>1. ReActæ¨¡å¼ (Reasoning + Acting)</h3>
<p>å¤§å¤šæ•°ç°ä»£Agentéµå¾ªReActæ¨¡å¼ï¼Œå°†æ€è€ƒå’Œè¡ŒåŠ¨ç»“åˆèµ·æ¥ï¼š</p>
<pre><code class="hljs gcode">è§‚å¯Ÿ<span class="hljs-comment">(Observe)</span> â†’ æ€è€ƒ<span class="hljs-comment">(Think)</span> â†’ è¡ŒåŠ¨<span class="hljs-comment">(Act)</span> â†’ è§‚å¯Ÿæ–°ç»“æœ â†’ ...</code></pre>
<p>è¿™ä¸ªå¾ªç¯è®©Agentèƒ½å¤Ÿåƒäººç±»ä¸€æ ·ï¼Œè¾¹æ€è€ƒè¾¹è¡ŒåŠ¨ï¼Œå¹¶æ ¹æ®ç»“æœè°ƒæ•´åç»­è¡Œä¸ºã€‚</p>
<h3 id="2-æç¤ºå·¥ç¨‹æŠ€å·§"><a class="header-anchor" href="#2-æç¤ºå·¥ç¨‹æŠ€å·§"></a>2. æç¤ºå·¥ç¨‹æŠ€å·§</h3>
<p>æœ‰æ•ˆçš„Agentæç¤ºé€šå¸¸åŒ…å«ä»¥ä¸‹è¦ç´ ï¼š</p>
<ul>
<li>æ˜ç¡®çš„è§’è‰²å®šä¹‰</li>
<li>å¯ç”¨å·¥å…·åˆ—è¡¨åŠå…¶åŠŸèƒ½æè¿°</li>
<li>ä»»åŠ¡åˆ†è§£æŒ‡å¯¼</li>
<li>è¾“å‡ºæ ¼å¼è§„èŒƒ</li>
</ul>
<p>ä¸€ä¸ªç®€åŒ–çš„Agentæç¤ºæ¨¡æ¿ï¼š</p>
<pre><code class="hljs ldif">ä½ æ˜¯ä¸€ä¸ªä»»åŠ¡åŠ©æ‰‹ã€‚ä½ å°†è·å¾—ä¸€ä¸ªä»»åŠ¡ï¼Œéœ€è¦è§„åˆ’å¹¶æ‰§è¡Œå®Œæˆå®ƒã€‚
ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·:
<span class="hljs-attribute">1. search_web(query)</span>: æœç´¢äº’è”ç½‘è·å–ä¿¡æ¯
<span class="hljs-attribute">2. calculator(expression)</span>: è®¡ç®—æ•°å­¦è¡¨è¾¾å¼
<span class="hljs-attribute">3. code_interpreter(code)</span>: æ‰§è¡ŒPythonä»£ç 

å½“éœ€è¦ä½¿ç”¨å·¥å…·æ—¶ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ ¼å¼:
<span class="hljs-attribute">Thought</span>: ä½ çš„æ€è€ƒè¿‡ç¨‹
<span class="hljs-attribute">Action</span>: å·¥å…·åç§°
<span class="hljs-attribute">Action Input</span>: &#123;å·¥å…·è¾“å…¥å‚æ•°&#125;

å·¥å…·å°†è¿”å›ç»“æœï¼Œç„¶åä½ å¯ä»¥ç»§ç»­æ€è€ƒå’Œä½¿ç”¨å·¥å…·ï¼Œç›´åˆ°å®Œæˆä»»åŠ¡ã€‚
æœ€ç»ˆå›ç­”åº”ä»¥&quot;Final Answer:&quot;å¼€å¤´ã€‚

ä»»åŠ¡: &#123;ç”¨æˆ·ä»»åŠ¡&#125;</code></pre>
<h3 id="3-å·¥å…·ä½¿ç”¨æ¡†æ¶"><a class="header-anchor" href="#3-å·¥å…·ä½¿ç”¨æ¡†æ¶"></a>3. å·¥å…·ä½¿ç”¨æ¡†æ¶</h3>
<p>å·¥å…·ä½¿ç”¨æ˜¯Agentçš„æ ¸å¿ƒèƒ½åŠ›ï¼Œä¸»è¦åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li><strong>å·¥å…·å®šä¹‰</strong>ï¼šæè¿°å·¥å…·åŠŸèƒ½å’Œå‚æ•°</li>
<li><strong>å·¥å…·è°ƒç”¨</strong>ï¼šAgenté€‰æ‹©å¹¶è°ƒç”¨é€‚å½“çš„å·¥å…·</li>
<li><strong>ç»“æœå¤„ç†</strong>ï¼šè§£æå·¥å…·è¿”å›ç»“æœå¹¶ç»§ç»­ä¸‹ä¸€æ­¥</li>
</ul>
<h2 id="ğŸ› ï¸-æ„å»ºAgentçš„æŠ€æœ¯æ ˆ"><a class="header-anchor" href="#ğŸ› ï¸-æ„å»ºAgentçš„æŠ€æœ¯æ ˆ"></a>ğŸ› ï¸ æ„å»ºAgentçš„æŠ€æœ¯æ ˆ</h2>
<h3 id="åŸºç¡€ç»„ä»¶"><a class="header-anchor" href="#åŸºç¡€ç»„ä»¶"></a>åŸºç¡€ç»„ä»¶</h3>
<p>ç°ä»£AI Agenté€šå¸¸åŸºäºä»¥ä¸‹ç»„ä»¶æ„å»ºï¼š</p>
<ol>
<li><strong>å¤§è¯­è¨€æ¨¡å‹</strong>ï¼šä½œä¸ºAgentçš„&quot;å¤§è„‘&quot;</li>
<li><strong>å·¥å…·é›†</strong>ï¼šæ‰©å±•Agentçš„èƒ½åŠ›è¾¹ç•Œ</li>
<li><strong>è®°å¿†ç³»ç»Ÿ</strong>ï¼šå­˜å‚¨å¯¹è¯å†å²å’Œä¸Šä¸‹æ–‡</li>
<li><strong>è°ƒåº¦å™¨</strong>ï¼šæ§åˆ¶Agentçš„æ‰§è¡Œæµç¨‹</li>
<li><strong>ç›‘æ§ä¸å®‰å…¨æœºåˆ¶</strong>ï¼šç¡®ä¿Agentè¡Œä¸ºå®‰å…¨å¯æ§</li>
</ol>
<h3 id="å¸¸ç”¨æŠ€æœ¯æ¡†æ¶"><a class="header-anchor" href="#å¸¸ç”¨æŠ€æœ¯æ¡†æ¶"></a>å¸¸ç”¨æŠ€æœ¯æ¡†æ¶</h3>
<p>å‡ ä¸ªæµè¡Œçš„Agentå¼€å‘æ¡†æ¶ï¼š</p>
<table>
<thead>
<tr>
<th>æ¡†æ¶</th>
<th>ä¼˜ç‚¹</th>
<th>ç¼ºç‚¹</th>
<th>é€‚ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr>
<td>LangChain</td>
<td>ç»„ä»¶ä¸°å¯Œï¼Œé«˜åº¦æ¨¡å—åŒ–</td>
<td>æœ‰ä¸€å®šå­¦ä¹ æ›²çº¿</td>
<td>å…¨åŠŸèƒ½Agentå¼€å‘</td>
</tr>
<tr>
<td>LlamaIndex</td>
<td>ä¸“æ³¨äºçŸ¥è¯†æ£€ç´¢å¢å¼º</td>
<td>AgentåŠŸèƒ½ç›¸å¯¹æœ‰é™</td>
<td>çŸ¥è¯†å¯†é›†å‹åº”ç”¨</td>
</tr>
<tr>
<td>AutoGPT</td>
<td>è‡ªä¸»æ€§å¼º</td>
<td>æ§åˆ¶ç²¾åº¦è¾ƒä½</td>
<td>æ¢ç´¢æ€§ä»»åŠ¡</td>
</tr>
<tr>
<td>CrewAI</td>
<td>ä¸“æ³¨å¤šAgentåä½œ</td>
<td>è¾ƒæ–°ï¼Œæ–‡æ¡£æœ‰é™</td>
<td>å¤æ‚ä»»åŠ¡åˆ†å·¥</td>
</tr>
</tbody>
</table>
<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä¸»è¦ä½¿ç”¨LangChainæ¡†æ¶è¿›è¡Œå®æˆ˜æ¼”ç¤ºã€‚</p>
<h2 id="ğŸ’»-å®æˆ˜æ¡ˆä¾‹ä¸€ï¼šæ„å»ºåŸºç¡€Agent"><a class="header-anchor" href="#ğŸ’»-å®æˆ˜æ¡ˆä¾‹ä¸€ï¼šæ„å»ºåŸºç¡€Agent"></a>ğŸ’» å®æˆ˜æ¡ˆä¾‹ä¸€ï¼šæ„å»ºåŸºç¡€Agent</h2>
<p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„Agentå¼€å§‹ï¼Œå®ƒå¯ä»¥å›ç­”é—®é¢˜ã€æœç´¢ä¿¡æ¯å’Œæ‰§è¡ŒåŸºæœ¬è®¡ç®—ï¼š</p>
<h3 id="ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡"><a class="header-anchor" href="#ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡"></a>ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡</h3>
<pre><code class="hljs bash"><span class="hljs-comment"># åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span>
python -m venv agent-env
<span class="hljs-built_in">source</span> agent-env/bin/activate  <span class="hljs-comment"># Linux/Mac</span>
<span class="hljs-comment"># agent-env\Scripts\activate    # Windows</span>

<span class="hljs-comment"># å®‰è£…ä¾èµ–åŒ…</span>
pip install langchain langchain-openai pydantic python-dotenv</code></pre>
<h3 id="ç¬¬äºŒæ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡"><a class="header-anchor" href="#ç¬¬äºŒæ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡"></a>ç¬¬äºŒæ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡</h3>
<pre><code class="hljs python"><span class="hljs-comment"># .env æ–‡ä»¶</span>
OPENAI_API_KEY=your_openai_api_key
SERPAPI_API_KEY=your_serpapi_key  <span class="hljs-comment"># ç”¨äºç½‘ç»œæœç´¢</span></code></pre>
<h3 id="ç¬¬ä¸‰æ­¥ï¼šå®šä¹‰å·¥å…·"><a class="header-anchor" href="#ç¬¬ä¸‰æ­¥ï¼šå®šä¹‰å·¥å…·"></a>ç¬¬ä¸‰æ­¥ï¼šå®šä¹‰å·¥å…·</h3>
<pre><code class="hljs python"><span class="hljs-comment"># tools.py</span>
<span class="hljs-keyword">from</span> langchain.tools <span class="hljs-keyword">import</span> BaseTool, StructuredTool
<span class="hljs-keyword">from</span> langchain.callbacks.manager <span class="hljs-keyword">import</span> CallbackManagerForToolRun
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> Optional, Type
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, Field
<span class="hljs-keyword">import</span> math

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CalculatorInput</span>(<span class="hljs-params">BaseModel</span>):</span>
    expression: str = Field(description=<span class="hljs-string">&quot;æ•°å­¦è¡¨è¾¾å¼ï¼Œå¦‚ &#x27;2 + 2&#x27; æˆ– &#x27;sin(30)&#x27;&quot;</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Calculator</span>(<span class="hljs-params">BaseTool</span>):</span>
    name = <span class="hljs-string">&quot;calculator&quot;</span>
    description = <span class="hljs-string">&quot;ç”¨äºè®¡ç®—æ•°å­¦è¡¨è¾¾å¼&quot;</span>
    args_schema: Type[BaseModel] = CalculatorInput
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_run</span>(<span class="hljs-params">self, expression: str, run_manager: Optional[CallbackManagerForToolRun] = None</span>) -&gt; str:</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå®‰å…¨çš„å±€éƒ¨ç¯å¢ƒï¼ŒåªåŒ…å«åŸºæœ¬æ•°å­¦å‡½æ•°</span>
            safe_locals = &#123;
                <span class="hljs-string">&#x27;sin&#x27;</span>: math.sin,
                <span class="hljs-string">&#x27;cos&#x27;</span>: math.cos,
                <span class="hljs-string">&#x27;tan&#x27;</span>: math.tan,
                <span class="hljs-string">&#x27;sqrt&#x27;</span>: math.sqrt,
                <span class="hljs-string">&#x27;pi&#x27;</span>: math.pi,
                <span class="hljs-string">&#x27;e&#x27;</span>: math.e
            &#125;
            
            <span class="hljs-comment"># è®¡ç®—è¡¨è¾¾å¼</span>
            result = eval(expression, &#123;<span class="hljs-string">&quot;__builtins__&quot;</span>: &#123;&#125;&#125;, safe_locals)
            <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;è¡¨è¾¾å¼ &#x27;<span class="hljs-subst">&#123;expression&#125;</span>&#x27; çš„è®¡ç®—ç»“æœæ˜¯: <span class="hljs-subst">&#123;result&#125;</span>&quot;</span>
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;è®¡ç®—è¡¨è¾¾å¼æ—¶å‡ºé”™: <span class="hljs-subst">&#123;str(e)&#125;</span>&quot;</span>

<span class="hljs-comment"># æ›´å¤šå·¥å…·å®šä¹‰...</span></code></pre>
<h3 id="ç¬¬å››æ­¥ï¼šæ„å»ºAgent"><a class="header-anchor" href="#ç¬¬å››æ­¥ï¼šæ„å»ºAgent"></a>ç¬¬å››æ­¥ï¼šæ„å»ºAgent</h3>
<pre><code class="hljs python"><span class="hljs-comment"># agent.py</span>
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv
<span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> initialize_agent, AgentType
<span class="hljs-keyword">from</span> langchain.chat_models <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain.tools <span class="hljs-keyword">import</span> DuckDuckGoSearchRun

<span class="hljs-comment"># å¯¼å…¥æˆ‘ä»¬çš„è‡ªå®šä¹‰å·¥å…·</span>
<span class="hljs-keyword">from</span> tools <span class="hljs-keyword">import</span> Calculator

<span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡</span>
load_dotenv()

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_assistant</span>():</span>
    <span class="hljs-comment"># åˆå§‹åŒ–LLM</span>
    llm = ChatOpenAI(
        model=<span class="hljs-string">&quot;gpt-4-turbo&quot;</span>,
        temperature=<span class="hljs-number">0</span>,  <span class="hljs-comment"># ä½¿ç”¨ç¡®å®šæ€§è¾“å‡º</span>
    )
    
    <span class="hljs-comment"># åˆå§‹åŒ–å·¥å…·</span>
    search_tool = DuckDuckGoSearchRun()
    calculator_tool = Calculator()
    
    tools = [search_tool, calculator_tool]
    
    <span class="hljs-comment"># åˆ›å»ºAgent</span>
    agent = initialize_agent(
        tools=tools,
        llm=llm,
        agent=AgentType.CHAT_CONVERSATIONAL_REACT_DESCRIPTION,
        verbose=<span class="hljs-literal">True</span>,
        handle_parsing_errors=<span class="hljs-literal">True</span>,
        max_iterations=<span class="hljs-number">10</span>,  <span class="hljs-comment"># é˜²æ­¢æ— é™å¾ªç¯</span>
    )
    
    <span class="hljs-comment"># è‡ªå®šä¹‰ç³»ç»Ÿæ¶ˆæ¯</span>
    system_message = <span class="hljs-string">&quot;&quot;&quot;</span>
<span class="hljs-string">    ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥å›ç­”é—®é¢˜ã€æœç´¢ä¿¡æ¯å’Œæ‰§è¡Œè®¡ç®—ã€‚</span>
<span class="hljs-string">    å¯¹äºä¸ç¡®å®šçš„é—®é¢˜ï¼Œè¯·ä½¿ç”¨æœç´¢å·¥å…·è·å–æœ€æ–°ä¿¡æ¯ã€‚</span>
<span class="hljs-string">    å¯¹äºéœ€è¦è®¡ç®—çš„é—®é¢˜ï¼Œè¯·ä½¿ç”¨è®¡ç®—å™¨å·¥å…·ã€‚</span>
<span class="hljs-string">    è¯·å…ˆæ€è€ƒé—®é¢˜éœ€è¦å“ªäº›ä¿¡æ¯æˆ–è®¡ç®—ï¼Œç„¶åé€‰æ‹©åˆé€‚çš„å·¥å…·ã€‚</span>
<span class="hljs-string">    &quot;&quot;&quot;</span>
    
    agent.agent.llm_chain.prompt.messages[<span class="hljs-number">0</span>].prompt.template = system_message
    
    <span class="hljs-keyword">return</span> agent

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:
    agent = create_assistant()
    
    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
        query = input(<span class="hljs-string">&quot;\nè¯·è¾“å…¥æ‚¨çš„é—®é¢˜ (è¾“å…¥&#x27;quit&#x27;é€€å‡º): &quot;</span>)
        <span class="hljs-keyword">if</span> query.lower() == <span class="hljs-string">&quot;quit&quot;</span>:
            <span class="hljs-keyword">break</span>
            
        response = agent.run(input=query)
        print(<span class="hljs-string">f&quot;\nå›ç­”: <span class="hljs-subst">&#123;response&#125;</span>&quot;</span>)</code></pre>
<h3 id="ç¬¬äº”æ­¥ï¼šè¿è¡Œä¸æµ‹è¯•"><a class="header-anchor" href="#ç¬¬äº”æ­¥ï¼šè¿è¡Œä¸æµ‹è¯•"></a>ç¬¬äº”æ­¥ï¼šè¿è¡Œä¸æµ‹è¯•</h3>
<pre><code class="hljs python"><span class="hljs-comment"># è¿è¡Œç¤ºä¾‹</span>
python agent.py

<span class="hljs-comment"># ç¤ºä¾‹é—®é¢˜:</span>
<span class="hljs-comment"># 1. è®¡ç®—åœ°çƒåˆ°æœˆçƒçš„è·ç¦»é™¤ä»¥å…‰é€Ÿéœ€è¦å¤šå°‘ç§’?</span>
<span class="hljs-comment"># 2. 2023å¹´ä¸–ç•Œæ¯å† å†›æ˜¯å“ªä¸ªå›½å®¶?</span>
<span class="hljs-comment"># 3. è§£é‡Šé‡å­è®¡ç®—çš„åŸºæœ¬åŸç†</span></code></pre>
<p>åœ¨è¿™ä¸ªåŸºç¡€Agentä¸­ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š</p>
<ul>
<li>è‡ªå®šä¹‰å·¥å…·é›†æˆ</li>
<li>æœç´¢å¼•æ“æŸ¥è¯¢</li>
<li>ç®€å•çš„Agentå¾ªç¯æ§åˆ¶</li>
<li>ç”¨æˆ·å‹å¥½çš„äº¤äº’ç•Œé¢</li>
</ul>
<h2 id="ğŸ”„-å®æˆ˜æ¡ˆä¾‹äºŒï¼šå¤šæ­¥éª¤ä»»åŠ¡Agent"><a class="header-anchor" href="#ğŸ”„-å®æˆ˜æ¡ˆä¾‹äºŒï¼šå¤šæ­¥éª¤ä»»åŠ¡Agent"></a>ğŸ”„ å®æˆ˜æ¡ˆä¾‹äºŒï¼šå¤šæ­¥éª¤ä»»åŠ¡Agent</h2>
<p>åŸºç¡€Agentåªèƒ½å¤„ç†ç®€å•æŸ¥è¯¢ï¼Œç°åœ¨è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªèƒ½å¤„ç†å¤šæ­¥éª¤ä»»åŠ¡çš„Agentã€‚è¿™ä¸ªAgentå¯ä»¥ï¼š</p>
<ol>
<li>åˆ†æå¤æ‚ä»»åŠ¡</li>
<li>åˆ†è§£ä¸ºå­ä»»åŠ¡</li>
<li>é¡ºåºæ‰§è¡Œå­ä»»åŠ¡</li>
<li>æ•´åˆç»“æœæä¾›æœ€ç»ˆç­”æ¡ˆ</li>
</ol>
<p>è¿™ç±»Agentç‰¹åˆ«é€‚åˆå¤„ç†éœ€è¦å¤šä¸ªæ­¥éª¤çš„å·¥ä½œæµç¨‹ã€‚</p>
<h3 id="ä½¿ç”¨LangChainçš„PLAN-AND-EXECUTEä»£ç†"><a class="header-anchor" href="#ä½¿ç”¨LangChainçš„PLAN-AND-EXECUTEä»£ç†"></a>ä½¿ç”¨LangChainçš„PLAN_AND_EXECUTEä»£ç†</h3>
<pre><code class="hljs python"><span class="hljs-comment"># advanced_agent.py</span>
<span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> create_plan_and_execute_agent
<span class="hljs-keyword">from</span> langchain.chat_models <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain_community.tools.tavily_search <span class="hljs-keyword">import</span> TavilySearchResults
<span class="hljs-keyword">from</span> langchain_core.tools <span class="hljs-keyword">import</span> Tool

<span class="hljs-comment"># åˆå§‹åŒ–LLM</span>
llm = ChatOpenAI(model=<span class="hljs-string">&quot;gpt-4-turbo&quot;</span>, temperature=<span class="hljs-number">0</span>)

<span class="hljs-comment"># å®šä¹‰æ›´å¤šå·¥å…·</span>
search = TavilySearchResults(max_results=<span class="hljs-number">3</span>)

<span class="hljs-comment"># è‡ªå®šä¹‰å·¥å…·ï¼šæ•°æ®åˆ†æ</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">analyze_data</span>(<span class="hljs-params">data_description</span>):</span>
    <span class="hljs-comment"># è¿™é‡Œæ˜¯ç®€åŒ–å®ç°ï¼Œå®é™…åº”ç”¨ä¸­å¯èƒ½éœ€è¦è°ƒç”¨æ•°æ®åˆ†æåº“</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;åˆ†æç»“æœ: å·²å®Œæˆå¯¹ &#x27;<span class="hljs-subst">&#123;data_description&#125;</span>&#x27; çš„åŸºç¡€ç»Ÿè®¡åˆ†æ&quot;</span>

<span class="hljs-comment"># è‡ªå®šä¹‰å·¥å…·ï¼šç”ŸæˆæŠ¥å‘Š</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">generate_report</span>(<span class="hljs-params">analysis_results, report_type=<span class="hljs-string">&quot;summary&quot;</span></span>):</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;å·²ç”Ÿæˆ <span class="hljs-subst">&#123;report_type&#125;</span> æŠ¥å‘Šï¼ŒåŸºäºåˆ†æ: <span class="hljs-subst">&#123;analysis_results&#125;</span>&quot;</span>

<span class="hljs-comment"># ç»„è£…å·¥å…·é›†</span>
tools = [
    Tool(
        name=<span class="hljs-string">&quot;web_search&quot;</span>,
        func=search.run,
        description=<span class="hljs-string">&quot;å½“ä½ éœ€è¦æŸ¥æ‰¾æœ€æ–°ä¿¡æ¯æ—¶ä½¿ç”¨è¿™ä¸ªå·¥å…·ã€‚è¾“å…¥åº”è¯¥æ˜¯ä¸€ä¸ªæœç´¢æŸ¥è¯¢ã€‚&quot;</span>
    ),
    Tool(
        name=<span class="hljs-string">&quot;data_analysis&quot;</span>,
        func=analyze_data,
        description=<span class="hljs-string">&quot;ç”¨äºåˆ†ææ•°æ®é›†ã€‚è¾“å…¥åº”è¯¥æ˜¯å¯¹æ•°æ®çš„æè¿°ã€‚&quot;</span>
    ),
    Tool(
        name=<span class="hljs-string">&quot;report_generator&quot;</span>,
        func=generate_report,
        description=<span class="hljs-string">&quot;ç”ŸæˆåŸºäºåˆ†æç»“æœçš„æŠ¥å‘Šã€‚è¾“å…¥æ ¼å¼ä¸º: &#x27;åˆ†æç»“æœ,æŠ¥å‘Šç±»å‹&#x27;ã€‚&quot;</span>
    )
]

<span class="hljs-comment"># åˆ›å»ºè§„åˆ’æ‰§è¡Œå‹Agent</span>
agent = create_plan_and_execute_agent(llm, tools, verbose=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># è¿è¡ŒAgentå¤„ç†å¤æ‚ä»»åŠ¡</span>
task = <span class="hljs-string">&quot;&quot;&quot;</span>
<span class="hljs-string">ä¸ºæˆ‘åˆ†æ2023å¹´å…¨çƒç”µåŠ¨æ±½è½¦é”€å”®è¶‹åŠ¿ï¼Œå¹¶ç”Ÿæˆä¸€ä»½åŒ…å«ä¸»è¦å¸‚åœºã€å¢é•¿ç‡å’Œä¸»è¦åˆ¶é€ å•†çš„ç®€æŠ¥ã€‚</span>
<span class="hljs-string">&quot;&quot;&quot;</span>

result = agent.invoke(&#123;<span class="hljs-string">&quot;input&quot;</span>: task&#125;)
print(result[<span class="hljs-string">&quot;output&quot;</span>])</code></pre>
<h3 id="PLAN-AND-EXECUTEä»£ç†å·¥ä½œæµç¨‹"><a class="header-anchor" href="#PLAN-AND-EXECUTEä»£ç†å·¥ä½œæµç¨‹"></a>PLAN_AND_EXECUTEä»£ç†å·¥ä½œæµç¨‹</h3>
<p>è¿™ç§ä»£ç†é¦–å…ˆåˆ¶å®šä¸€ä¸ªè®¡åˆ’ï¼Œç„¶åæŒ‰æ­¥æ‰§è¡Œï¼š</p>
<pre><code class="hljs angelscript">è®¡åˆ’é˜¶æ®µ:
<span class="hljs-number">1.</span> æœç´¢<span class="hljs-number">2023</span>å¹´å…¨çƒç”µåŠ¨æ±½è½¦é”€å”®æ•°æ®
<span class="hljs-number">2.</span> åˆ†æé”€å”®æ•°æ®ä»¥æå–å…³é”®è¶‹åŠ¿
<span class="hljs-number">3.</span> è¯†åˆ«ä¸»è¦å¸‚åœºå’Œå¢é•¿ç‡
<span class="hljs-number">4.</span> ç¡®å®šä¸»è¦ç”µåŠ¨æ±½è½¦åˆ¶é€ å•†
<span class="hljs-number">5.</span> ç”ŸæˆåŒ…å«æ‰€æœ‰ä¿¡æ¯çš„ç®€æŠ¥

æ‰§è¡Œé˜¶æ®µ:
[æ‰§è¡Œæ­¥éª¤<span class="hljs-number">1</span>] ä½¿ç”¨web_searchå·¥å…·æœç´¢æ•°æ®...
[æ‰§è¡Œæ­¥éª¤<span class="hljs-number">2</span>] ä½¿ç”¨data_analysiså·¥å…·åˆ†ææ•°æ®...
...ä¾æ­¤ç±»æ¨</code></pre>
<h2 id="ğŸ§©-å®æˆ˜æ¡ˆä¾‹ä¸‰ï¼šæ„å»ºä¸“ä¸šé¢†åŸŸAgent"><a class="header-anchor" href="#ğŸ§©-å®æˆ˜æ¡ˆä¾‹ä¸‰ï¼šæ„å»ºä¸“ä¸šé¢†åŸŸAgent"></a>ğŸ§© å®æˆ˜æ¡ˆä¾‹ä¸‰ï¼šæ„å»ºä¸“ä¸šé¢†åŸŸAgent</h2>
<p>é€šç”¨Agentå¾ˆå¼ºå¤§ï¼Œä½†ä¸“æ³¨äºç‰¹å®šé¢†åŸŸçš„Agentå¾€å¾€æ›´å®ç”¨ã€‚ä¸‹é¢æˆ‘ä»¬æ„å»ºä¸€ä¸ªä¸“æ³¨äºç¼–ç¨‹è¾…åŠ©çš„Agentï¼š</p>
<h3 id="ä»£ç åŠ©æ‰‹Agent"><a class="header-anchor" href="#ä»£ç åŠ©æ‰‹Agent"></a>ä»£ç åŠ©æ‰‹Agent</h3>
<pre><code class="hljs python"><span class="hljs-comment"># code_agent.py</span>
<span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> initialize_agent, AgentType
<span class="hljs-keyword">from</span> langchain.chat_models <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain.memory <span class="hljs-keyword">import</span> ConversationBufferMemory
<span class="hljs-keyword">from</span> langchain.tools <span class="hljs-keyword">import</span> Tool
<span class="hljs-keyword">from</span> langchain.utilities <span class="hljs-keyword">import</span> PythonREPL
<span class="hljs-keyword">import</span> subprocess
<span class="hljs-keyword">import</span> tempfile
<span class="hljs-keyword">import</span> os

<span class="hljs-comment"># åˆå§‹åŒ–Python REPLå·¥å…·</span>
python_repl = PythonREPL()

<span class="hljs-comment"># ä»£ç è§£é‡Šå·¥å…·</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">explain_code</span>(<span class="hljs-params">code_snippet</span>):</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;è¿™æ®µä»£ç çš„åŠŸèƒ½æ˜¯: [ä»£ç è§£é‡Šç»“æœ]&quot;</span>  <span class="hljs-comment"># å®é™…ä¸­å¯è°ƒç”¨LLMç”Ÿæˆè§£é‡Š</span>

<span class="hljs-comment"># ä»£ç æ‰§è¡Œå·¥å…·ï¼ˆå®‰å…¨ç‰ˆæœ¬ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">execute_code_safely</span>(<span class="hljs-params">code</span>):</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># åˆ›å»ºä¸´æ—¶æ–‡ä»¶</span>
        <span class="hljs-keyword">with</span> tempfile.NamedTemporaryFile(suffix=<span class="hljs-string">&#x27;.py&#x27;</span>, delete=<span class="hljs-literal">False</span>) <span class="hljs-keyword">as</span> f:
            f.write(code.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>))
            temp_file_name = f.name
        
        <span class="hljs-comment"># åœ¨å­è¿›ç¨‹ä¸­æ‰§è¡Œä»£ç ï¼Œè®¾ç½®è¶…æ—¶</span>
        result = subprocess.run(
            [<span class="hljs-string">&#x27;python&#x27;</span>, temp_file_name],
            capture_output=<span class="hljs-literal">True</span>,
            text=<span class="hljs-literal">True</span>,
            timeout=<span class="hljs-number">5</span>  <span class="hljs-comment"># 5ç§’è¶…æ—¶</span>
        )
        
        <span class="hljs-comment"># æ¸…ç†ä¸´æ—¶æ–‡ä»¶</span>
        os.unlink(temp_file_name)
        
        <span class="hljs-comment"># è¿”å›æ‰§è¡Œç»“æœ</span>
        <span class="hljs-keyword">if</span> result.returncode == <span class="hljs-number">0</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;ä»£ç æ‰§è¡ŒæˆåŠŸ:\n<span class="hljs-subst">&#123;result.stdout&#125;</span>&quot;</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;ä»£ç æ‰§è¡Œé”™è¯¯:\n<span class="hljs-subst">&#123;result.stderr&#125;</span>&quot;</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;æ‰§è¡Œå‡ºç°å¼‚å¸¸: <span class="hljs-subst">&#123;str(e)&#125;</span>&quot;</span>

<span class="hljs-comment"># ä»£ç ä¼˜åŒ–å·¥å…·</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">optimize_code</span>(<span class="hljs-params">code_snippet</span>):</span>
    <span class="hljs-comment"># å®é™…ä½¿ç”¨ä¸­å¯è°ƒç”¨ä¸“é—¨çš„ä»£ç ä¼˜åŒ–LLM</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;ä¼˜åŒ–åçš„ä»£ç :\n```python\n<span class="hljs-subst">&#123;code_snippet&#125;</span>\n```&quot;</span>

<span class="hljs-comment"># å®šä¹‰å·¥å…·é›†</span>
tools = [
    Tool(
        name=<span class="hljs-string">&quot;python_repl&quot;</span>,
        func=python_repl.run,
        description=<span class="hljs-string">&quot;ç”¨äºæ‰§è¡ŒPythonä»£ç å¹¶è·å–ç»“æœçš„Python REPLã€‚&quot;</span>
    ),
    Tool(
        name=<span class="hljs-string">&quot;explain_code&quot;</span>,
        func=explain_code,
        description=<span class="hljs-string">&quot;è§£é‡Šä¸€æ®µä»£ç çš„åŠŸèƒ½å’Œå·¥ä½œåŸç†ã€‚&quot;</span>
    ),
    Tool(
        name=<span class="hljs-string">&quot;execute_code_safely&quot;</span>,
        func=execute_code_safely,
        description=<span class="hljs-string">&quot;å®‰å…¨åœ°æ‰§è¡ŒPythonä»£ç ï¼Œå¹¶è¿”å›ç»“æœæˆ–é”™è¯¯ä¿¡æ¯ã€‚&quot;</span>
    ),
    Tool(
        name=<span class="hljs-string">&quot;optimize_code&quot;</span>,
        func=optimize_code,
        description=<span class="hljs-string">&quot;ä¼˜åŒ–æä¾›çš„ä»£ç ï¼Œæé«˜å…¶æ•ˆç‡æˆ–å¯è¯»æ€§ã€‚&quot;</span>
    )
]

<span class="hljs-comment"># åˆ›å»ºå¯¹è¯è®°å¿†</span>
memory = ConversationBufferMemory(memory_key=<span class="hljs-string">&quot;chat_history&quot;</span>, return_messages=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># åˆå§‹åŒ–LLM</span>
llm = ChatOpenAI(model=<span class="hljs-string">&quot;gpt-4-turbo&quot;</span>, temperature=<span class="hljs-number">0</span>)

<span class="hljs-comment"># åˆ›å»ºAgent</span>
agent = initialize_agent(
    tools,
    llm,
    agent=AgentType.CHAT_CONVERSATIONAL_REACT_DESCRIPTION,
    memory=memory,
    verbose=<span class="hljs-literal">True</span>
)

<span class="hljs-comment"># è‡ªå®šä¹‰ç³»ç»Ÿæç¤º</span>
system_message = <span class="hljs-string">&quot;&quot;&quot;</span>
<span class="hljs-string">ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç¼–ç¨‹åŠ©æ‰‹ï¼Œä¸“æ³¨äºå¸®åŠ©ç”¨æˆ·ç¼–å†™ã€ç†è§£å’Œä¼˜åŒ–Pythonä»£ç ã€‚</span>
<span class="hljs-string"></span>
<span class="hljs-string">å·¥ä½œæµç¨‹æŒ‡å—:</span>
<span class="hljs-string">1. å½“ç”¨æˆ·è¯·æ±‚ç¼–å†™ä»£ç æ—¶ï¼Œç”Ÿæˆé«˜è´¨é‡ã€ç¬¦åˆPEP8è§„èŒƒçš„Pythonä»£ç </span>
<span class="hljs-string">2. å½“ç”¨æˆ·è¦æ±‚è§£é‡Šä»£ç æ—¶ï¼Œä½¿ç”¨explain_codeå·¥å…·æä¾›æ¸…æ™°è§£é‡Š</span>
<span class="hljs-string">3. å½“éœ€è¦æµ‹è¯•ä»£ç æ—¶ï¼Œä½¿ç”¨execute_code_safelyå·¥å…·å®‰å…¨æ‰§è¡Œ</span>
<span class="hljs-string">4. å½“ç”¨æˆ·è¦æ±‚ä¼˜åŒ–ä»£ç æ—¶ï¼Œä½¿ç”¨optimize_codeå·¥å…·</span>
<span class="hljs-string"></span>
<span class="hljs-string">å§‹ç»ˆä¼˜å…ˆè€ƒè™‘ä»£ç çš„:</span>
<span class="hljs-string">- æ­£ç¡®æ€§</span>
<span class="hljs-string">- æ•ˆç‡</span>
<span class="hljs-string">- å¯è¯»æ€§</span>
<span class="hljs-string">- å®‰å…¨æ€§</span>
<span class="hljs-string"></span>
<span class="hljs-string">åœ¨å›ç­”ä¸­ï¼Œå…ˆç®€è¦è§£é‡Šä»£ç çš„åŠŸèƒ½å’Œé€»è¾‘ï¼Œå†æä¾›ä»£ç ã€‚</span>
<span class="hljs-string">&quot;&quot;&quot;</span>

<span class="hljs-comment"># è®¾ç½®Agentçš„ç³»ç»Ÿæ¶ˆæ¯</span>
agent.agent.llm_chain.prompt.messages[<span class="hljs-number">0</span>].prompt.template = system_message

<span class="hljs-comment"># äº¤äº’å¼æµ‹è¯•</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:
    print(<span class="hljs-string">&quot;Pythonç¼–ç¨‹åŠ©æ‰‹å·²å¯åŠ¨ã€‚è¾“å…¥&#x27;quit&#x27;é€€å‡ºã€‚&quot;</span>)
    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
        query = input(<span class="hljs-string">&quot;\nè¯·è¾“å…¥æ‚¨çš„é—®é¢˜æˆ–ä»£ç éœ€æ±‚: &quot;</span>)
        <span class="hljs-keyword">if</span> query.lower() == <span class="hljs-string">&quot;quit&quot;</span>:
            <span class="hljs-keyword">break</span>
            
        response = agent.run(input=query)
        print(<span class="hljs-string">f&quot;\n<span class="hljs-subst">&#123;response&#125;</span>&quot;</span>)</code></pre>
<h3 id="ä¸“ä¸šé¢†åŸŸAgentçš„å…³é”®ç‚¹"><a class="header-anchor" href="#ä¸“ä¸šé¢†åŸŸAgentçš„å…³é”®ç‚¹"></a>ä¸“ä¸šé¢†åŸŸAgentçš„å…³é”®ç‚¹</h3>
<ol>
<li><strong>å·¥å…·ä¸“ä¸šåŒ–</strong>ï¼šæä¾›é¢†åŸŸç‰¹å®šå·¥å…·</li>
<li><strong>ä»»åŠ¡èšç„¦</strong>ï¼šæ˜ç¡®Agentçš„èŒè´£è¾¹ç•Œ</li>
<li><strong>ä¸“ä¸šçŸ¥è¯†æ³¨å…¥</strong>ï¼šé€šè¿‡ç³»ç»Ÿæç¤ºæä¾›é¢†åŸŸçŸ¥è¯†</li>
<li><strong>å®‰å…¨æ€§è€ƒè™‘</strong>ï¼šç‰¹åˆ«æ˜¯æ‰§è¡Œä»£ç ç­‰æ•æ„Ÿæ“ä½œæ—¶</li>
</ol>
<h2 id="ğŸ”§-å®æˆ˜æ¡ˆä¾‹å››ï¼šå¸¦æœ‰è‡ªå®šä¹‰UIçš„Agentåº”ç”¨"><a class="header-anchor" href="#ğŸ”§-å®æˆ˜æ¡ˆä¾‹å››ï¼šå¸¦æœ‰è‡ªå®šä¹‰UIçš„Agentåº”ç”¨"></a>ğŸ”§ å®æˆ˜æ¡ˆä¾‹å››ï¼šå¸¦æœ‰è‡ªå®šä¹‰UIçš„Agentåº”ç”¨</h2>
<p>å‰é¢çš„ä¾‹å­éƒ½æ˜¯å‘½ä»¤è¡Œäº¤äº’ï¼Œç°åœ¨æˆ‘ä»¬æ„å»ºä¸€ä¸ªå¸¦æœ‰Webç•Œé¢çš„Agentåº”ç”¨ã€‚è¿™é‡Œä½¿ç”¨Gradioæ¡†æ¶å¿«é€Ÿæ­å»ºä¸€ä¸ªç®€å•ç•Œé¢ï¼š</p>
<pre><code class="hljs python"><span class="hljs-comment"># agent_webapp.py</span>
<span class="hljs-keyword">import</span> gradio <span class="hljs-keyword">as</span> gr
<span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> initialize_agent, AgentType
<span class="hljs-keyword">from</span> langchain.chat_models <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain.memory <span class="hljs-keyword">import</span> ConversationBufferMemory
<span class="hljs-keyword">from</span> langchain.schema <span class="hljs-keyword">import</span> SystemMessage
<span class="hljs-keyword">from</span> langchain.tools <span class="hljs-keyword">import</span> DuckDuckGoSearchRun

<span class="hljs-comment"># åˆå§‹åŒ–ç»„ä»¶</span>
llm = ChatOpenAI(model=<span class="hljs-string">&quot;gpt-4-turbo&quot;</span>, temperature=<span class="hljs-number">0.7</span>)
search = DuckDuckGoSearchRun()
memory = ConversationBufferMemory(memory_key=<span class="hljs-string">&quot;chat_history&quot;</span>, return_messages=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># å®šä¹‰å·¥å…·</span>
tools = [
    Tool(
        name=<span class="hljs-string">&quot;web_search&quot;</span>,
        func=search.run,
        description=<span class="hljs-string">&quot;æœç´¢äº’è”ç½‘è·å–æœ€æ–°ä¿¡æ¯&quot;</span>
    )
]

<span class="hljs-comment"># åˆ›å»ºAgent</span>
agent = initialize_agent(
    tools,
    llm,
    agent=AgentType.CHAT_CONVERSATIONAL_REACT_DESCRIPTION,
    memory=memory,
    verbose=<span class="hljs-literal">True</span>
)

<span class="hljs-comment"># è‡ªå®šä¹‰ç³»ç»Ÿæ¶ˆæ¯</span>
system_msg = <span class="hljs-string">&quot;&quot;&quot;</span>
<span class="hljs-string">ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥å›ç­”ç”¨æˆ·é—®é¢˜å¹¶æœç´¢äº’è”ç½‘è·å–ä¿¡æ¯ã€‚</span>
<span class="hljs-string">å½“ä½ ä¸ç¡®å®šæˆ–éœ€è¦æœ€æ–°ä¿¡æ¯æ—¶ï¼Œè¯·ä½¿ç”¨æœç´¢å·¥å…·ã€‚</span>
<span class="hljs-string">å›ç­”è¦ç®€æ´ã€å‡†ç¡®ï¼Œå¹¶æ ‡æ˜ä¿¡æ¯æ¥æºã€‚</span>
<span class="hljs-string">&quot;&quot;&quot;</span>

agent.agent.llm_chain.prompt.messages[<span class="hljs-number">0</span>].prompt.template = system_msg

<span class="hljs-comment"># å¤„ç†å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_query</span>(<span class="hljs-params">message, history</span>):</span>
    <span class="hljs-comment"># è®°å½•å¯¹è¯å†å²</span>
    <span class="hljs-keyword">if</span> history:
        <span class="hljs-keyword">for</span> human, ai <span class="hljs-keyword">in</span> history:
            memory.chat_memory.add_user_message(human)
            memory.chat_memory.add_ai_message(ai)
    
    <span class="hljs-comment"># è°ƒç”¨Agentå¤„ç†æ¶ˆæ¯</span>
    response = agent.run(input=message)
    
    <span class="hljs-comment"># æ¸…ç†å“åº”ä¸­å¯èƒ½çš„å·¥å…·è°ƒç”¨æ ¼å¼</span>
    cleaned_response = response.replace(<span class="hljs-string">&quot;Action:&quot;</span>, <span class="hljs-string">&quot;&quot;</span>).replace(<span class="hljs-string">&quot;Action Input:&quot;</span>, <span class="hljs-string">&quot;&quot;</span>).replace(<span class="hljs-string">&quot;Observation:&quot;</span>, <span class="hljs-string">&quot;&quot;</span>).replace(<span class="hljs-string">&quot;Thought:&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)
    
    <span class="hljs-keyword">return</span> cleaned_response

<span class="hljs-comment"># åˆ›å»ºGradioç•Œé¢</span>
demo = gr.ChatInterface(
    process_query,
    title=<span class="hljs-string">&quot;AIæ™ºèƒ½åŠ©æ‰‹&quot;</span>,
    description=<span class="hljs-string">&quot;æˆ‘å¯ä»¥å›ç­”é—®é¢˜å¹¶æœç´¢äº’è”ç½‘è·å–æœ€æ–°ä¿¡æ¯ã€‚è¯·è¾“å…¥æ‚¨çš„é—®é¢˜:&quot;</span>,
    theme=<span class="hljs-string">&quot;soft&quot;</span>,
    examples=[
        <span class="hljs-string">&quot;2024å¹´çš„çƒ­é—¨AIæŠ€æœ¯è¶‹åŠ¿æœ‰å“ªäº›?&quot;</span>,
        <span class="hljs-string">&quot;Pythonå’ŒGoè¯­è¨€å“ªä¸ªæ›´é€‚åˆå¾®æœåŠ¡å¼€å‘?&quot;</span>,
        <span class="hljs-string">&quot;å¦‚ä½•å¼€å§‹å­¦ä¹ AI Agentå¼€å‘?&quot;</span>
    ]
)

<span class="hljs-comment"># å¯åŠ¨åº”ç”¨</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:
    demo.launch()</code></pre>
<h2 id="ğŸ“ˆ-æ‰©å±•ä¸é«˜çº§åŠŸèƒ½"><a class="header-anchor" href="#ğŸ“ˆ-æ‰©å±•ä¸é«˜çº§åŠŸèƒ½"></a>ğŸ“ˆ æ‰©å±•ä¸é«˜çº§åŠŸèƒ½</h2>
<p>éšç€å¼€å‘çš„æ·±å…¥ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºAgentæ·»åŠ æ›´é«˜çº§çš„åŠŸèƒ½ï¼š</p>
<h3 id="1-è®°å¿†ç³»ç»Ÿå¢å¼º"><a class="header-anchor" href="#1-è®°å¿†ç³»ç»Ÿå¢å¼º"></a>1. è®°å¿†ç³»ç»Ÿå¢å¼º</h3>
<p>åŸºæœ¬è®°å¿†åªå­˜å‚¨å¯¹è¯å†å²ï¼Œå¯ä»¥æ‰©å±•ä¸ºï¼š</p>
<pre><code class="hljs python"><span class="hljs-keyword">from</span> langchain.memory <span class="hljs-keyword">import</span> ConversationSummaryMemory

<span class="hljs-comment"># æ‘˜è¦è®°å¿†ï¼šè‡ªåŠ¨æ€»ç»“é•¿å¯¹è¯</span>
summary_memory = ConversationSummaryMemory(
    llm=llm,
    memory_key=<span class="hljs-string">&quot;chat_history&quot;</span>,
    return_messages=<span class="hljs-literal">True</span>
)

<span class="hljs-comment"># å‘é‡å­˜å‚¨è®°å¿†ï¼šåŸºäºè¯­ä¹‰ç›¸ä¼¼æ€§æ£€ç´¢</span>
<span class="hljs-keyword">from</span> langchain.memory <span class="hljs-keyword">import</span> VectorStoreRetrieverMemory
<span class="hljs-keyword">from</span> langchain.vectorstores <span class="hljs-keyword">import</span> FAISS
<span class="hljs-keyword">from</span> langchain.embeddings <span class="hljs-keyword">import</span> OpenAIEmbeddings

<span class="hljs-comment"># åˆå§‹åŒ–å‘é‡å­˜å‚¨</span>
embeddings = OpenAIEmbeddings()
vectorstore = FAISS.from_texts([<span class="hljs-string">&quot;&quot;</span>], embedding=embeddings)
retriever = vectorstore.as_retriever(search_kwargs=dict(k=<span class="hljs-number">5</span>))

<span class="hljs-comment"># åˆ›å»ºå‘é‡è®°å¿†</span>
vector_memory = VectorStoreRetrieverMemory(retriever=retriever)</code></pre>
<h3 id="2-å¤šAgentç³»ç»Ÿ"><a class="header-anchor" href="#2-å¤šAgentç³»ç»Ÿ"></a>2. å¤šAgentç³»ç»Ÿ</h3>
<p>å¯¹äºå¤æ‚ä»»åŠ¡ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªä¸“ä¸šAgentåä½œï¼š</p>
<pre><code class="hljs python"><span class="hljs-keyword">from</span> crewai <span class="hljs-keyword">import</span> Agent, Task, Crew, Process

<span class="hljs-comment"># å®šä¹‰ä¸“ä¸šAgent</span>
researcher = Agent(
    role=<span class="hljs-string">&quot;ç ”ç©¶å‘˜&quot;</span>,
    goal=<span class="hljs-string">&quot;æ‰¾åˆ°æœ€æ–°ã€æœ€ç›¸å…³çš„ä¿¡æ¯&quot;</span>,
    backstory=<span class="hljs-string">&quot;ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šç ”ç©¶å‘˜ï¼Œå–„äºæœç´¢å’Œåˆ†æä¿¡æ¯&quot;</span>,
    allow_delegation=<span class="hljs-literal">True</span>,
    verbose=<span class="hljs-literal">True</span>,
    llm=llm
)

analyst = Agent(
    role=<span class="hljs-string">&quot;æ•°æ®åˆ†æå¸ˆ&quot;</span>,
    goal=<span class="hljs-string">&quot;åˆ†ææ•°æ®å¹¶æå–æ´è§&quot;</span>,
    backstory=<span class="hljs-string">&quot;ä½ æ˜¯ä¸€ä¸ªç»éªŒä¸°å¯Œçš„æ•°æ®åˆ†æå¸ˆï¼Œèƒ½ä»åŸå§‹æ•°æ®ä¸­æ‰¾å‡ºæœ‰ä»·å€¼çš„æ¨¡å¼&quot;</span>,
    allow_delegation=<span class="hljs-literal">True</span>,
    verbose=<span class="hljs-literal">True</span>,
    llm=llm
)

writer = Agent(
    role=<span class="hljs-string">&quot;å†…å®¹åˆ›ä½œè€…&quot;</span>,
    goal=<span class="hljs-string">&quot;åˆ›ä½œæ¸…æ™°ã€å¼•äººå…¥èƒœçš„å†…å®¹&quot;</span>,
    backstory=<span class="hljs-string">&quot;ä½ æ˜¯ä¸€ä¸ªæŠ€æœ¯å†™ä½œä¸“å®¶ï¼Œæ“…é•¿å°†å¤æ‚æ¦‚å¿µè½¬åŒ–ä¸ºæ˜“æ‡‚çš„å†…å®¹&quot;</span>,
    allow_delegation=<span class="hljs-literal">True</span>,
    verbose=<span class="hljs-literal">True</span>,
    llm=llm
)

<span class="hljs-comment"># å®šä¹‰ä»»åŠ¡</span>
research_task = Task(
    description=<span class="hljs-string">&quot;ç ”ç©¶æœ€æ–°çš„AI AgentæŠ€æœ¯å‘å±•è¶‹åŠ¿&quot;</span>,
    expected_output=<span class="hljs-string">&quot;ä¸€ä»½åŒ…å«å…³é”®å‘å±•çš„ç ”ç©¶æŠ¥å‘Š&quot;</span>,
    agent=researcher,
    tools=[search_tool]
)

analysis_task = Task(
    description=<span class="hljs-string">&quot;åˆ†æç ”ç©¶ç»“æœï¼Œç¡®å®šä¸»è¦è¶‹åŠ¿å’Œæœºä¼š&quot;</span>,
    expected_output=<span class="hljs-string">&quot;ä¸€ä»½åˆ†ææŠ¥å‘Šï¼ŒåŒ…å«å…³é”®è¶‹åŠ¿å’Œæœºä¼š&quot;</span>,
    agent=analyst,
)

writing_task = Task(
    description=<span class="hljs-string">&quot;åŸºäºç ”ç©¶å’Œåˆ†æï¼Œæ’°å†™ä¸€ç¯‡åšå®¢æ–‡ç« &quot;</span>,
    expected_output=<span class="hljs-string">&quot;ä¸€ç¯‡2000å­—çš„åšå®¢æ–‡ç« ï¼Œä»‹ç»AI Agentçš„å‘å±•è¶‹åŠ¿&quot;</span>,
    agent=writer,
)

<span class="hljs-comment"># ç»„å»ºCrewå¹¶æ‰§è¡Œä»»åŠ¡</span>
crew = Crew(
    agents=[researcher, analyst, writer],
    tasks=[research_task, analysis_task, writing_task],
    process=Process.sequential,  <span class="hljs-comment"># æŒ‰é¡ºåºæ‰§è¡Œä»»åŠ¡</span>
    verbose=<span class="hljs-number">2</span>
)

result = crew.kickoff()
print(result)</code></pre>
<h3 id="3-åæ€å’Œè‡ªæˆ‘æ”¹è¿›æœºåˆ¶"><a class="header-anchor" href="#3-åæ€å’Œè‡ªæˆ‘æ”¹è¿›æœºåˆ¶"></a>3. åæ€å’Œè‡ªæˆ‘æ”¹è¿›æœºåˆ¶</h3>
<p>è®©Agentèƒ½å¤Ÿè¯„ä¼°è‡ªå·±çš„è¾“å‡ºå¹¶æ”¹è¿›ï¼š</p>
<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">agent_with_reflection</span>(<span class="hljs-params">query</span>):</span>
    <span class="hljs-comment"># ç¬¬ä¸€æ¬¡å“åº”</span>
    initial_response = agent.run(input=query)
    
    <span class="hljs-comment"># åæ€æç¤º</span>
    reflection_prompt = <span class="hljs-string">f&quot;&quot;&quot;</span>
<span class="hljs-string">    è¯·è¯„ä¼°ä½ å¯¹ä»¥ä¸‹æŸ¥è¯¢çš„å“åº”è´¨é‡:</span>
<span class="hljs-string">    </span>
<span class="hljs-string">    æŸ¥è¯¢: <span class="hljs-subst">&#123;query&#125;</span></span>
<span class="hljs-string">    </span>
<span class="hljs-string">    ä½ çš„å“åº”: <span class="hljs-subst">&#123;initial_response&#125;</span></span>
<span class="hljs-string">    </span>
<span class="hljs-string">    è¯·æ£€æŸ¥:</span>
<span class="hljs-string">    1. å›ç­”æ˜¯å¦å®Œæ•´è§£å†³äº†ç”¨æˆ·é—®é¢˜</span>
<span class="hljs-string">    2. æ˜¯å¦æœ‰ä»»ä½•äº‹å®é”™è¯¯æˆ–è¯¯å¯¼ä¿¡æ¯</span>
<span class="hljs-string">    3. å›ç­”æ˜¯å¦æ¸…æ™°ã€ç»“æ„è‰¯å¥½</span>
<span class="hljs-string">    4. æœ‰å“ªäº›æ–¹é¢å¯ä»¥æ”¹è¿›</span>
<span class="hljs-string">    </span>
<span class="hljs-string">    å¦‚æœéœ€è¦æ”¹è¿›ï¼Œè¯·æä¾›æ”¹è¿›åçš„å›ç­”ã€‚</span>
<span class="hljs-string">    &quot;&quot;&quot;</span>
    
    <span class="hljs-comment"># è¯·Agentåæ€å¹¶æ”¹è¿›</span>
    reflection = llm.predict(reflection_prompt)
    
    <span class="hljs-comment"># å¦‚æœåæ€åŒ…å«æ–°çš„å›ç­”ï¼Œåˆ™ä½¿ç”¨æ”¹è¿›ç‰ˆ</span>
    <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;æ”¹è¿›åçš„å›ç­”&quot;</span> <span class="hljs-keyword">in</span> reflection:
        improved_answer = reflection.split(<span class="hljs-string">&quot;æ”¹è¿›åçš„å›ç­”:&quot;</span>)[<span class="hljs-number">-1</span>].strip()
        <span class="hljs-keyword">return</span> improved_answer
    
    <span class="hljs-comment"># å¦åˆ™è¿”å›åŸå§‹å›ç­”</span>
    <span class="hljs-keyword">return</span> initial_response</code></pre>
<h2 id="ğŸ›¡ï¸-Agentçš„å®‰å…¨ä¸è´£ä»»"><a class="header-anchor" href="#ğŸ›¡ï¸-Agentçš„å®‰å…¨ä¸è´£ä»»"></a>ğŸ›¡ï¸ Agentçš„å®‰å…¨ä¸è´£ä»»</h2>
<p>å¼€å‘å¼ºå¤§çš„Agentç³»ç»Ÿä¹Ÿå¸¦æ¥äº†å®‰å…¨è´£ä»»ï¼š</p>
<h3 id="1-æƒé™æ§åˆ¶"><a class="header-anchor" href="#1-æƒé™æ§åˆ¶"></a>1. æƒé™æ§åˆ¶</h3>
<p>é™åˆ¶Agentå¯ä»¥æ‰§è¡Œçš„æ“ä½œèŒƒå›´ï¼š</p>
<pre><code class="hljs python"><span class="hljs-comment"># å®‰å…¨çš„æ–‡ä»¶æ“ä½œå·¥å…·</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">safe_read_file</span>(<span class="hljs-params">filepath</span>):</span>
    <span class="hljs-comment"># æ£€æŸ¥æ–‡ä»¶è·¯å¾„ï¼Œé˜²æ­¢ç›®å½•éå†</span>
    <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;..&quot;</span> <span class="hljs-keyword">in</span> filepath <span class="hljs-keyword">or</span> filepath.startswith(<span class="hljs-string">&quot;/&quot;</span>):
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;é”™è¯¯: ä¸å…è®¸è®¿é—®æ­¤è·¯å¾„&quot;</span>
        
    <span class="hljs-comment"># é™åˆ¶å¯è®¿é—®çš„æ–‡ä»¶ç±»å‹</span>
    allowed_extensions = [<span class="hljs-string">&#x27;.txt&#x27;</span>, <span class="hljs-string">&#x27;.md&#x27;</span>, <span class="hljs-string">&#x27;.csv&#x27;</span>, <span class="hljs-string">&#x27;.json&#x27;</span>]
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> any(filepath.endswith(ext) <span class="hljs-keyword">for</span> ext <span class="hljs-keyword">in</span> allowed_extensions):
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;é”™è¯¯: åªèƒ½è®¿é—®æ–‡æœ¬å’Œæ•°æ®æ–‡ä»¶&quot;</span>
    
    <span class="hljs-comment"># å®‰å…¨è¯»å–æ–‡ä»¶</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">with</span> open(filepath, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> f:
            <span class="hljs-keyword">return</span> f.read()
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;è¯»å–æ–‡ä»¶æ—¶å‡ºé”™: <span class="hljs-subst">&#123;str(e)&#125;</span>&quot;</span></code></pre>
<h3 id="2-è¾“å‡ºè¿‡æ»¤"><a class="header-anchor" href="#2-è¾“å‡ºè¿‡æ»¤"></a>2. è¾“å‡ºè¿‡æ»¤</h3>
<p>é˜²æ­¢æœ‰å®³å†…å®¹ç”Ÿæˆï¼š</p>
<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">filter_content</span>(<span class="hljs-params">content</span>):</span>
    <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦åŒ…å«æœ‰å®³å†…å®¹çš„ç®€å•ç¤ºä¾‹</span>
    harmful_patterns = [
        <span class="hljs-string">&quot;rm -rf&quot;</span>,  <span class="hljs-comment"># å±é™©å‘½ä»¤</span>
        <span class="hljs-string">&quot;DROP TABLE&quot;</span>,  <span class="hljs-comment"># SQLæ³¨å…¥</span>
        <span class="hljs-string">&quot;&lt;script&gt;&quot;</span>,  <span class="hljs-comment"># XSSæ”»å‡»</span>
        <span class="hljs-comment"># æ›´å¤šæ¨¡å¼...</span>
    ]
    
    <span class="hljs-keyword">for</span> pattern <span class="hljs-keyword">in</span> harmful_patterns:
        <span class="hljs-keyword">if</span> pattern.lower() <span class="hljs-keyword">in</span> content.lower():
            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;å†…å®¹åŒ…å«æ½œåœ¨æœ‰å®³ä»£ç ï¼Œå·²è¢«è¿‡æ»¤ã€‚&quot;</span>
    
    <span class="hljs-keyword">return</span> content</code></pre>
<h3 id="3-è¡Œä¸ºç›‘æ§"><a class="header-anchor" href="#3-è¡Œä¸ºç›‘æ§"></a>3. è¡Œä¸ºç›‘æ§</h3>
<p>å®ç°ç›‘æ§ç³»ç»Ÿè®°å½•Agentæ´»åŠ¨ï¼š</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AgentMonitor</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, log_file=<span class="hljs-string">&quot;agent_logs.jsonl&quot;</span></span>):</span>
        self.log_file = log_file
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">log_action</span>(<span class="hljs-params">self, action_type, action_input, action_output, user_query</span>):</span>
        log_entry = &#123;
            <span class="hljs-string">&quot;timestamp&quot;</span>: datetime.now().isoformat(),
            <span class="hljs-string">&quot;action_type&quot;</span>: action_type,
            <span class="hljs-string">&quot;action_input&quot;</span>: action_input,
            <span class="hljs-string">&quot;action_output&quot;</span>: action_output,
            <span class="hljs-string">&quot;user_query&quot;</span>: user_query
        &#125;
        
        <span class="hljs-keyword">with</span> open(self.log_file, <span class="hljs-string">&quot;a&quot;</span>) <span class="hljs-keyword">as</span> f:
            f.write(json.dumps(log_entry) + <span class="hljs-string">&quot;\n&quot;</span>)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_agent_stats</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-comment"># åˆ†ææ—¥å¿—ï¼Œç”Ÿæˆç»Ÿè®¡ä¿¡æ¯</span>
        <span class="hljs-keyword">pass</span></code></pre>
<h2 id="ğŸ’¼-Agentçš„å•†ä¸šåº”ç”¨åœºæ™¯"><a class="header-anchor" href="#ğŸ’¼-Agentçš„å•†ä¸šåº”ç”¨åœºæ™¯"></a>ğŸ’¼ Agentçš„å•†ä¸šåº”ç”¨åœºæ™¯</h2>
<p>AI Agentåœ¨å¤šä¸ªè¡Œä¸šéƒ½æœ‰å®ç”¨ä»·å€¼ï¼š</p>
<h3 id="1-å®¢æˆ·æœåŠ¡"><a class="header-anchor" href="#1-å®¢æˆ·æœåŠ¡"></a>1. å®¢æˆ·æœåŠ¡</h3>
<p>æ„å»ºå¯ä»¥å›ç­”é—®é¢˜ã€å¤„ç†è®¢å•å’Œè§£å†³é—®é¢˜çš„å®¢æœAgentï¼š</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomerServiceAgent</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, company_knowledge_base, order_system_api, ticket_system_api</span>):</span>
        self.kb = company_knowledge_base
        self.order_api = order_system_api
        self.ticket_api = ticket_system_api
        
        <span class="hljs-comment"># åˆå§‹åŒ–LLMå’Œå·¥å…·</span>
        self.llm = ChatOpenAI(model=<span class="hljs-string">&quot;gpt-4-turbo&quot;</span>, temperature=<span class="hljs-number">0.2</span>)
        
        <span class="hljs-comment"># å®šä¹‰æŸ¥è¯¢äº§å“ä¿¡æ¯å·¥å…·</span>
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">query_product</span>(<span class="hljs-params">product_id</span>):</span>
            <span class="hljs-comment"># è°ƒç”¨äº§å“APIè·å–ä¿¡æ¯</span>
            <span class="hljs-keyword">return</span> self.kb.get_product_info(product_id)
            
        <span class="hljs-comment"># å®šä¹‰æŸ¥è¯¢è®¢å•å·¥å…·</span>
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">check_order_status</span>(<span class="hljs-params">order_id</span>):</span>
            <span class="hljs-comment"># è°ƒç”¨è®¢å•ç³»ç»ŸAPI</span>
            <span class="hljs-keyword">return</span> self.order_api.get_order_status(order_id)
            
        <span class="hljs-comment"># å®šä¹‰åˆ›å»ºæ”¯æŒå·¥å•å·¥å…·</span>
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_support_ticket</span>(<span class="hljs-params">customer_id, issue, priority=<span class="hljs-string">&quot;medium&quot;</span></span>):</span>
            <span class="hljs-comment"># åˆ›å»ºæ”¯æŒå·¥å•</span>
            ticket_id = self.ticket_api.create_ticket(customer_id, issue, priority)
            <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;å·²åˆ›å»ºå·¥å•ï¼Œç¼–å·: <span class="hljs-subst">&#123;ticket_id&#125;</span>&quot;</span>
        
        <span class="hljs-comment"># ç»„è£…å·¥å…·é›†</span>
        self.tools = [
            Tool(<span class="hljs-string">&quot;query_product&quot;</span>, query_product, <span class="hljs-string">&quot;æŸ¥è¯¢äº§å“ä¿¡æ¯&quot;</span>),
            Tool(<span class="hljs-string">&quot;check_order_status&quot;</span>, check_order_status, <span class="hljs-string">&quot;æŸ¥è¯¢è®¢å•çŠ¶æ€&quot;</span>),
            Tool(<span class="hljs-string">&quot;create_support_ticket&quot;</span>, create_support_ticket, <span class="hljs-string">&quot;åˆ›å»ºæ”¯æŒå·¥å•&quot;</span>)
        ]
        
        <span class="hljs-comment"># åˆ›å»ºAgent</span>
        self.agent = initialize_agent(
            self.tools,
            self.llm,
            agent=AgentType.CHAT_CONVERSATIONAL_REACT_DESCRIPTION,
            verbose=<span class="hljs-literal">True</span>
        )
        
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handle_customer_query</span>(<span class="hljs-params">self, customer_id, query</span>):</span>
        <span class="hljs-comment"># æ·»åŠ å®¢æˆ·ä¸Šä¸‹æ–‡</span>
        customer_context = self.kb.get_customer_info(customer_id)
        enhanced_query = <span class="hljs-string">f&quot;å®¢æˆ·ä¿¡æ¯: <span class="hljs-subst">&#123;customer_context&#125;</span>\n\nå®¢æˆ·æŸ¥è¯¢: <span class="hljs-subst">&#123;query&#125;</span>&quot;</span>
        
        <span class="hljs-comment"># è°ƒç”¨Agentå¤„ç†æŸ¥è¯¢</span>
        response = self.agent.run(enhanced_query)
        <span class="hljs-keyword">return</span> response</code></pre>
<h3 id="2-ä¸ªäººç”Ÿäº§åŠ›åŠ©æ‰‹"><a class="header-anchor" href="#2-ä¸ªäººç”Ÿäº§åŠ›åŠ©æ‰‹"></a>2. ä¸ªäººç”Ÿäº§åŠ›åŠ©æ‰‹</h3>
<p>æ„å»ºå¯ä»¥å¸®åŠ©ç®¡ç†æ—¥ç¨‹ã€æ€»ç»“ä¼šè®®å’Œèµ·è‰ç”µå­é‚®ä»¶çš„ä¸ªäººåŠ©æ‰‹ï¼š</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductivityAssistant</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, calendar_api, email_api, document_api</span>):</span>
        self.calendar = calendar_api
        self.email = email_api
        self.docs = document_api
        
        <span class="hljs-comment"># åˆ›å»ºAgentå’Œå·¥å…·...</span>
        
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">summarize_meeting</span>(<span class="hljs-params">self, meeting_transcript</span>):</span>
        <span class="hljs-string">&quot;&quot;&quot;æ€»ç»“ä¼šè®®å†…å®¹&quot;&quot;&quot;</span>
        prompt = <span class="hljs-string">f&quot;&quot;&quot;</span>
<span class="hljs-string">        è¯·æ€»ç»“ä»¥ä¸‹ä¼šè®®è®°å½•çš„å…³é”®ç‚¹ã€å†³ç­–å’Œåç»­è¡ŒåŠ¨é¡¹:</span>
<span class="hljs-string">        </span>
<span class="hljs-string">        <span class="hljs-subst">&#123;meeting_transcript&#125;</span></span>
<span class="hljs-string">        </span>
<span class="hljs-string">        æ ¼å¼:</span>
<span class="hljs-string">        1. ä¸»è¦è®¨è®ºç‚¹</span>
<span class="hljs-string">        2. å†³ç­–</span>
<span class="hljs-string">        3. è¡ŒåŠ¨é¡¹(åŒ…æ‹¬è´Ÿè´£äººå’Œæˆªæ­¢æ—¥æœŸ)</span>
<span class="hljs-string">        &quot;&quot;&quot;</span>
        
        <span class="hljs-keyword">return</span> self.llm.predict(prompt)
        
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">draft_email</span>(<span class="hljs-params">self, context, recipient, purpose</span>):</span>
        <span class="hljs-string">&quot;&quot;&quot;èµ·è‰ç”µå­é‚®ä»¶&quot;&quot;&quot;</span>
        prompt = <span class="hljs-string">f&quot;&quot;&quot;</span>
<span class="hljs-string">        è¯·æ ¹æ®ä»¥ä¸‹ä¿¡æ¯èµ·è‰ä¸€å°ä¸“ä¸šçš„ç”µå­é‚®ä»¶:</span>
<span class="hljs-string">        </span>
<span class="hljs-string">        æ”¶ä»¶äºº: <span class="hljs-subst">&#123;recipient&#125;</span></span>
<span class="hljs-string">        ç›®çš„: <span class="hljs-subst">&#123;purpose&#125;</span></span>
<span class="hljs-string">        èƒŒæ™¯ä¿¡æ¯: <span class="hljs-subst">&#123;context&#125;</span></span>
<span class="hljs-string">        </span>
<span class="hljs-string">        ç”µå­é‚®ä»¶åº”åŒ…å«:</span>
<span class="hljs-string">        - ä¸“ä¸šçš„é—®å€™è¯­</span>
<span class="hljs-string">        - æ¸…æ™°çš„ä¸»é¢˜è¯´æ˜</span>
<span class="hljs-string">        - ä¸»è¦å†…å®¹</span>
<span class="hljs-string">        - é€‚å½“çš„ç»“æŸè¯­</span>
<span class="hljs-string">        &quot;&quot;&quot;</span>
        
        <span class="hljs-keyword">return</span> self.llm.predict(prompt)</code></pre>
<h2 id="ğŸ”®-AgentæŠ€æœ¯çš„æœªæ¥è¶‹åŠ¿"><a class="header-anchor" href="#ğŸ”®-AgentæŠ€æœ¯çš„æœªæ¥è¶‹åŠ¿"></a>ğŸ”® AgentæŠ€æœ¯çš„æœªæ¥è¶‹åŠ¿</h2>
<p>AI AgentæŠ€æœ¯æ­£åœ¨å¿«é€Ÿå‘å±•ï¼Œå‡ ä¸ªå€¼å¾—å…³æ³¨çš„è¶‹åŠ¿ï¼š</p>
<ol>
<li><strong>å¤šæ¨¡æ€Agent</strong>ï¼šèƒ½å¤„ç†å›¾åƒã€éŸ³é¢‘å’Œè§†é¢‘</li>
<li><strong>é•¿æœŸè®°å¿†</strong>: åŸºäºæ£€ç´¢å¢å¼ºå’Œå‘é‡æ•°æ®åº“çš„æŒä¹…è®°å¿†</li>
<li><strong>å¤šAgentåä½œç³»ç»Ÿ</strong>: å¤šä¸ªä¸“ä¸šAgentååŒå·¥ä½œ</li>
<li><strong>è‡ªä¸»å­¦ä¹ ä¸æ”¹è¿›</strong>: Agentè‡ªä¸»æ”¶é›†åé¦ˆå¹¶æ”¹è¿›</li>
<li><strong>ä½ä»£ç Agentæ„å»ºå¹³å°</strong>: ä½¿éæŠ€æœ¯ç”¨æˆ·ä¹Ÿèƒ½åˆ›å»ºAgent</li>
</ol>
<h2 id="ğŸ’¡-ç»“è¯­"><a class="header-anchor" href="#ğŸ’¡-ç»“è¯­"></a>ğŸ’¡ ç»“è¯­</h2>
<p>AI AgentæŠ€æœ¯ä»£è¡¨äº†AIåº”ç”¨çš„ä¸‹ä¸€ä»£å‘å±•æ–¹å‘ï¼Œä»ç®€å•çš„é—®ç­”ç³»ç»Ÿåˆ°èƒ½å¤Ÿè§„åˆ’å’Œæ‰§è¡Œå¤æ‚ä»»åŠ¡çš„æ™ºèƒ½åŠ©æ‰‹ã€‚é€šè¿‡æœ¬æ–‡ä»‹ç»çš„åŸç†å’Œå®æˆ˜æ¡ˆä¾‹ï¼Œå¸Œæœ›ä½ èƒ½æŒæ¡æ„å»ºå®ç”¨Agentçš„åŸºæœ¬æŠ€èƒ½ã€‚</p>
<p>éšç€å¤§è¯­è¨€æ¨¡å‹å’Œå·¥å…·è°ƒç”¨èƒ½åŠ›çš„ä¸æ–­è¿›æ­¥ï¼Œæˆ‘ç›¸ä¿¡Agentå°†åœ¨æ›´å¤šé¢†åŸŸå±•ç°ä»·å€¼ã€‚æ— è®ºæ˜¯æ„å»ºä¸ªäººåŠ©æ‰‹ã€ä¼ä¸šè‡ªåŠ¨åŒ–ç³»ç»Ÿè¿˜æ˜¯ä¸“ä¸šé¢†åŸŸåº”ç”¨ï¼ŒæŒæ¡Agentå¼€å‘æŠ€æœ¯éƒ½å°†æ˜¯ä¸€é¡¹è¶Šæ¥è¶Šé‡è¦çš„èƒ½åŠ›ã€‚</p>
<p>æœ€åï¼Œè®°ä½æ„å»ºAgentçš„æ ¸å¿ƒåœ¨äºæ¸…æ™°çš„ç›®æ ‡å®šä¹‰ã€åˆé€‚çš„å·¥å…·é€‰æ‹©å’Œè‰¯å¥½çš„æç¤ºè®¾è®¡ã€‚ä»ç®€å•å¼€å§‹ï¼Œé€æ­¥è¿­ä»£å®Œå–„ï¼Œä½ ä¹Ÿèƒ½æ„å»ºå‡ºå¼ºå¤§å®ç”¨çš„AI Agentç³»ç»Ÿã€‚</p>
<p>æœ‰ä»€ä¹ˆé—®é¢˜æˆ–è€…Agentå¼€å‘ç»éªŒï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµï¼</p>

            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/AI/">AI</a>
                    
                      <a class="hover-with-bg" href="/tags/Agent/">Agent</a>
                    
                      <a class="hover-with-bg" href="/tags/LangChain/">LangChain</a>
                    
                      <a class="hover-with-bg" href="/tags/%E5%B7%A5%E5%85%B7%E8%B0%83%E7%94%A8/">å·¥å…·è°ƒç”¨</a>
                    
                  </div>
                
              </div>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                      <a href="/2025/03/24/Go%E8%AF%AD%E8%A8%80%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E6%A8%A1%E5%BC%8F%E4%B8%8E%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">âš¡ Goè¯­è¨€å¹¶å‘ç¼–ç¨‹æ¨¡å¼ä¸æ€§èƒ½è°ƒä¼˜</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/2025/01/18/%E5%9F%BA%E4%BA%8EGo%E8%AF%AD%E8%A8%80%E6%9E%84%E5%BB%BA%E9%AB%98%E6%80%A7%E8%83%BD%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/">
                        <span class="hidden-mobile">ğŸ”„ åŸºäºGoè¯­è¨€æ„å»ºé«˜æ€§èƒ½å¾®æœåŠ¡æ¶æ„</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
              <!-- Comments -->
              <div class="comments" id="comments">
                
                
  <div class="disqus" style="width:100%">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      function loadDisqus() {
        var disqus_config = function () {
          this.page.url = 'https://blog.bopop.sbs/2025/02/16/AI Agentå¼€å‘å®æˆ˜ï¼šä»åŸç†åˆ°åº”ç”¨/';
          this.page.identifier = '/2025/02/16/AI Agentå¼€å‘å®æˆ˜ï¼šä»åŸç†åˆ°åº”ç”¨/';
        };
        (function () {
          var d = document,
            s = d.createElement('script');
          s.src = '//' + '' + '.disqus.com/embed.js';
          s.setAttribute('data-timestamp', new Date());
          (d.head || d.body).appendChild(s);
        })();
      }
      createObserver(loadDisqus, 'disqus_thread');
    </script>
    <noscript>Please enable JavaScript to view the
      <a target="_blank" href="https://disqus.com/?ref_noscript" rel="nofollow noopener noopener">comments powered by Disqus.</a>
    </noscript>
  </div>


              </div>
            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  
    <div class="col-lg-7 mx-auto nopadding-md">
      <div class="container custom mx-auto">
        <img src="/img/Bopop-logo.png" srcset="/img/loading.gif" class="rounded mx-auto d-block mt-5" style="width:220px; height:150px;">
      </div>
    </div>
  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <!-- <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a> -->
        <span>Â© Bopop</span>
    </div>
    

    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>







  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: 'article.markdown-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>





  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>




















</body>
</html>
