<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/Bopop-logo.png">
  <link rel="icon" type="image/png" href="/img/Bopop-logo.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="This v blog">
  <meta name="author" content="BoDen">
  <meta name="keywords" content="Bopop,blog,åšå®¢,PHP,Python,Golang">
  <title>RTSPåè®® - Bopop</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css" />
  

  


<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script  src="/js/utils.js" ></script>
<meta name="generator" content="Hexo 5.0.2"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Bopop</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/pexels.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
                RTSPåè®®
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2019-05-13 21:53">
      2019å¹´5æœˆ13æ—¥ æ™šä¸Š
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      877 å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      11
       åˆ†é’Ÿ
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
            <article class="markdown-body">
              <p>æœ€è¿‘å…¬å¸æœ‰ä¸ªéœ€æ±‚ï¼Œå¯¹æ¥alexa å¹³å°çš„camera skillã€‚å°±æ˜¯å°†ipcçš„è§†é¢‘æµæ”¾åˆ°æ™ºèƒ½å¸¦å±éŸ³ç®±ä¸Šæ’­æ”¾å‡ºæ¥ï¼Œè¿™ä¸ªéœ€æ±‚çœ‹ä¼¼å¥½åƒæ¯”è¾ƒç®€å•å…¶å®å‘çš„ä¸€åŒ¹ğŸ˜­ é¦–å…ˆæˆ‘ä»¬å…·å¤‡çš„åŸºç¡€æ¡ä»¶æ˜¯ï¼š</p>
<ul>
<li>å…¬å¸çš„ipcæ²¡æœ‰å…¬ç½‘ç½‘å¡ï¼Œè§†é¢‘æµåªèƒ½åœ¨å±€åŸŸç½‘ä¸­æ’­æ”¾ã€‚</li>
<li>ç°æœ‰ipcæ˜¯ä¸ºserveræ¨¡å¼ï¼Œå¹¶ä¸”åªæ¥å—è¢«åŠ¨è¯·æ±‚ï¼Œä¸ä¼šä¸»åŠ¨æ¨rtspæµã€‚</li>
<li>Amazon alexa å¹³å°ç¡¬æ€§è¦æ±‚æ‰€æœ‰çš„rtspæµéœ€è¦è¿›è¡Œäºšé©¬é€Šè®¤è¯çš„CA TLS: <img src="https://blog.wenboo.top/wp-content/uploads/2019/05/eb6f877c69981e9482f4a7ae50d72880.png" srcset="/img/loading.gif" alt=""></li>
</ul>
<h4 id="é¢ä¸´çš„é—®é¢˜"><a class="header-anchor" href="#é¢ä¸´çš„é—®é¢˜"></a>é¢ä¸´çš„é—®é¢˜</h4>
<p>å±€åŸŸç½‘çš„rtspæµæ— æ³•è¿›è¡ŒCAè®¤è¯çš„TLSåŠ å¯† 2. å°±ç®—æ­å»ºæ‹‰ç –æ¨æµæœåŠ¡å™¨å†åŠ å¯†ï¼Œä½†æ˜¯å±€åŸŸç½‘çš„ipè¡Œæ‹‰å–ã€‚</p>
<h4 id="è§£å†³æ–¹æ¡ˆ"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h4>
<ol>
<li>æ­å»ºrtspæµè½¬å‘æœåŠ¡å™¨ï¼Œå…¬å¸ç°æœ‰ipcä¸å…·å¤‡æ¨æµæ¡ä»¶ï¼ˆèˆå¼ƒï¼‰</li>
<li>åœ¨alexa skill store æœ‰çœ‹åˆ°ä¸€å®¶è§£å†³æ–¹æ¡ˆ <strong>Monocle</strong></li>
</ol>
<blockquote>
<p><img src="https://blog.wenboo.top/wp-content/uploads/2019/05/3b7c79a670f8fe4fffd295ee1833a13f.png" srcset="/img/loading.gif" alt=""></p>
</blockquote>
<p>ä»–ä»¬é€šè¿‡è®¤è¯ç½‘å…³çš„å½¢å¼æ¥è¾¾åˆ°ç›®çš„ï¼Œä½†æ˜¯å…·ä½“çš„å®ç°ä¸çŸ¥ã€‚ä¸‹ä¸€æ­¥å¾—å…ˆå­¦ä¹ ä¸‹RTSPåè®®çš„å†…å®¹ <a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc2326" title="RFC 2326">RFC 2326</a>ã€‚</p>
<blockquote>
<p>ä»RTSPåè®®æ–‡æ¡£ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒRTSPå…·å¤‡å’ŒHTTPç±»ä¼¼çš„é‡å®šå‘åŠŸèƒ½(redirect 3xx)</p>
</blockquote>
<p>`A redirect request informs the client that it must connect to another server location. It contains the mandatory header Location, which indicates that the client should issue requests for that URL. It may contain the parameter Range, which indicates when the redirection takes effect. If the client wants to continue to send or receive media for this URI, the client MUST issue a TEARDOWN request for the current session and a SETUP for the new session at the designated host. This example request redirects traffic for this URI to the new server at the given play time:</p>
<pre><code class="hljs apache"><span class="hljs-attribute">S</span>-&gt;C: REDIRECT rtsp://example.com/fizzle/foo RTSP/<span class="hljs-number">1</span>.<span class="hljs-number">0</span>
      <span class="hljs-attribute">CSeq</span>: <span class="hljs-number">732</span>
      <span class="hljs-attribute">Location</span>: rtsp://bigserver.com:<span class="hljs-number">8001</span>
      <span class="hljs-attribute">Range</span>: clock=<span class="hljs-number">19960213</span>T<span class="hljs-number">143205</span>Z-`</code></pre>
<p><strong>æˆ‘çŒœæƒ³Monocleçš„å®ç°æ–¹æ³•åº”è¯¥å°±æ˜¯åˆ©ç”¨äº†è¿™ä¸€ä¸ªç‰¹æ€§</strong> å¼€å§‹å»ç½‘ä¸Šæ‰¾è½®å­ï¼Œgithub ï¼ŒGoogleï¼Œç™¾åº¦æœäº†ä¸ªéåŸºæœ¬æ²¡æœ‰ç°æˆçš„è½®å­ã€‚è¿™ä¸ªæ–¹æ³•ç”¨çš„äººåº”è¯¥éå¸¸å°‘ï¼Œè‘—åçš„RTSPå¼€æºé¡¹ç›®Live555ä¹Ÿæ²¡æœ‰å®ç°è¿™ä¸ªæ ‡å‡†ç‰¹æ€§ã€‚ æ‰€ä»¥æˆ‘åˆå¼€å§‹å­¦ä¹ Live555çš„æºç ï¼ˆä»æ²¡å†™è¿‡C++çš„ï¼Œè¡¨ç¤ºè¿™çœŸçš„æ˜¯åœ¨éš¾ä¸ºæˆ‘å•Š~~~)æƒ³é€šè¿‡ä¿®æ”¹æºç æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚ <img src="https://blog.wenboo.top/wp-content/uploads/2019/05/d4a9763c42ee32ebfe4b6d44bd036a2c.png" srcset="/img/loading.gif" alt=""> ä¸è¿‡ç›®å‰ç¦»æˆ‘çš„çŒœæƒ³å·²ç»å¾ˆè¿‘äº†ï¼Œç°åœ¨é€šè¿‡æŠ“åŒ…å¯ä»¥æ¸…æ™°çš„çœ‹åˆ°äº†RTSPåè®®çš„äº¤äº’è¿‡ç¨‹ã€‚ Cè¡¨ç¤ºRTSPå®¢æˆ·ç«¯, Sè¡¨ç¤ºRTSPæœåŠ¡ç«¯</p>
<ol>
<li>
<p><strong>ç¬¬ä¸€æ­¥ï¼šæŸ¥è¯¢æœåŠ¡å™¨ç«¯å¯ç”¨æ–¹æ³•</strong></p>
</li>
<li>
<p>C-&gt;S: OPTION request //è¯¢é—®Sæœ‰å“ªäº›æ–¹æ³•å¯ç”¨ 1. S-&gt;C: OPTION response //Så›åº”ä¿¡æ¯çš„publicå¤´å­—æ®µä¸­åŒ…æ‹¬æä¾›çš„æ‰€æœ‰å¯ç”¨æ–¹æ³•</p>
</li>
<li>
<p><strong>ç¬¬äºŒæ­¥ï¼šå¾—åˆ°åª’ä½“æè¿°ä¿¡æ¯</strong></p>
</li>
<li>
<p>C-&gt;S: DESCRIBE request //è¦æ±‚å¾—åˆ°Sæä¾›çš„åª’ä½“æè¿°ä¿¡æ¯ 2. S-&gt;C: DESCRIBE response //Så›åº”åª’ä½“æè¿°ä¿¡æ¯ï¼Œä¸€èˆ¬æ˜¯sdpä¿¡æ¯</p>
</li>
<li>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šå»ºç«‹****RTSP****ä¼šè¯</strong></p>
</li>
<li>
<p>C-&gt;S: SETUP request //é€šè¿‡Transportå¤´å­—æ®µåˆ—å‡ºå¯æ¥å—çš„ä¼ è¾“é€‰é¡¹ï¼Œè¯·æ±‚Så»ºç«‹ä¼šè¯ 3. S-&gt;C: SETUP response //Så»ºç«‹ä¼šè¯ï¼Œé€šè¿‡Transportå¤´å­—æ®µè¿”å›é€‰æ‹©çš„å…·ä½“è½¬è¾“é€‰é¡¹ï¼Œå¹¶è¿”å›å»ºç«‹çš„Session ID;</p>
</li>
<li>
<p><strong>ç¬¬å››æ­¥ï¼šè¯·æ±‚å¼€å§‹ä¼ é€æ•°æ®</strong></p>
</li>
<li>
<p>C-&gt;S: PLAY request //Cè¯·æ±‚Så¼€å§‹å‘é€æ•°æ® 4. S-&gt;C: PLAY response //Så›åº”è¯¥è¯·æ±‚çš„ä¿¡æ¯</p>
</li>
<li>
<p><strong>ç¬¬äº”æ­¥ï¼š</strong> ******æ•°æ®ä¼ é€æ’­æ”¾ä¸­**</p>
</li>
</ol>
<p>S-&gt;C: å‘é€æµåª’ä½“æ•°æ® // é€šè¿‡RTPåè®®ä¼ é€æ•°æ®</p>
<ol start="6">
<li>
<p><strong>ç¬¬å…­æ­¥ï¼šå…³é—­ä¼šè¯ï¼Œé€€å‡º</strong></p>
</li>
<li>
<p>C-&gt;S: TEARDOWN request //Cè¯·æ±‚å…³é—­ä¼šè¯ 6. S-&gt;C: TEARDOWN response //Så›åº”è¯¥è¯·æ±‚</p>
</li>
</ol>
<p><img src="https://blog.wenboo.top/wp-content/uploads/2019/05/f73b01c1e1d5a8fac285228863196c78.png" srcset="/img/loading.gif" alt=""> <img src="https://blog.wenboo.top/wp-content/uploads/2019/05/49f4629698a5327a89a2d973207bd66d.png" srcset="/img/loading.gif" alt=""></p>
<p>å¯ä»¥ä¿®æ”¹é€šè¿‡ä¿®æ”¹SETUP Phaseå½“ä¸­çš„äº¤äº’è¿”å›æ¥å®ç°ã€‚</p>

            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E7%BD%91%E7%BB%9C/">ç½‘ç»œ</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/rtsp/">rtsp</a>
                    
                  </div>
                
              </div>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                      <a href="/2019/05/23/stunnel/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Stunnel</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/2019/05/08/http1-0%E3%80%81http1-1%E3%80%81http2-0/">
                        <span class="hidden-mobile">http1.0ã€http1.1ã€http2.0</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
              <!-- Comments -->
              <div class="comments" id="comments">
                
                
  <div class="disqus" style="width:100%">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      function loadDisqus() {
        var disqus_config = function () {
          this.page.url = 'https://blog.bopop.sbs/2019/05/13/rtspåè®®/';
          this.page.identifier = '/2019/05/13/rtspåè®®/';
        };
        (function () {
          var d = document,
            s = d.createElement('script');
          s.src = '//' + '' + '.disqus.com/embed.js';
          s.setAttribute('data-timestamp', new Date());
          (d.head || d.body).appendChild(s);
        })();
      }
      createObserver(loadDisqus, 'disqus_thread');
    </script>
    <noscript>Please enable JavaScript to view the
      <a target="_blank" href="https://disqus.com/?ref_noscript" rel="nofollow noopener noopener">comments powered by Disqus.</a>
    </noscript>
  </div>


              </div>
            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  
    <div class="col-lg-7 mx-auto nopadding-md">
      <div class="container custom mx-auto">
        <img src="/img/Bopop-logo.png" srcset="/img/loading.gif" class="rounded mx-auto d-block mt-5" style="width:220px; height:150px;">
      </div>
    </div>
  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <!-- <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a> -->
        <span>Â© Bopop</span>
    </div>
    

    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>







  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: 'article.markdown-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>





  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>




















</body>
</html>
